"use strict";chrome.runtime.onMessage.addListener(e=>{chrome.action.setIcon({path:e.colorScheme==="dark"?{16:"../images/icon-16-dark.png",32:"../images/icon-32-dark.png",48:"../images/icon-48-dark.png",128:"../images/icon-128-dark.png"}:{16:"../images/icon-16.png",32:"../images/icon-32.png",48:"../images/icon-48.png",128:"../images/icon-128.png"}})});chrome.contextMenus.removeAll(()=>{let e;(n=>(n.Root="v2p-ctx",n.ItemDecode="v2p-ctx-decode"))(e||={}),chrome.contextMenus.create({documentUrlPatterns:["https://*.v2ex.com/*"],contexts:["page"],title:"V2EX Polish",visible:!0,id:"v2p-ctx"}),chrome.contextMenus.create({documentUrlPatterns:["https://*.v2ex.com/*"],contexts:["page"],title:"Base64 \u89E3\u7801",id:"v2p-ctx-decode",parentId:"v2p-ctx"}),chrome.contextMenus.onClicked.addListener((t,o)=>{t.menuItemId==="v2p-ctx-decode"&&o?.id&&chrome.scripting.executeScript({target:{tabId:o.id},files:["scripts/decode-base64.min.js"]})})});chrome.storage.onChanged.addListener((e,t)=>{console.log(e,`Storage namespace "${t}" changed.`)});
